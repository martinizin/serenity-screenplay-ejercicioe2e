serenity {
    project.name = "SauceDemo Automation E2E - Martin Jimenez"
    test.root = "com.nttdata"
    take.screenshots = AFTER_EACH_STEP
}

headless.mode = false

webdriver {
  driver = chrome
  autodownload = true
  capabilities {
    "goog:chromeOptions" {
      args = [
        "--start-maximized",
        "--test-type",
        "--no-sandbox",
        "--ignore-certificate-errors",
        "--disable-popup-blocking",
        "--disable-default-apps",
        "--disable-extensions-file-access-check",
        "--incognito",
        "--disable-infobars",
        "--disable-gpu",
        "--remote-allow-origins=*",
        "--disable-search-engine-choice-screen",
        # Estos son los críticos para quitar la alerta de contraseña:
        "--disable-features=PasswordLeakDetection",
        "--disable-save-password-bubble"
      ]
      prefs {
        "credentials_enable_service" = false
        "profile.password_manager_enabled" = false
      }
    }
  }
}